<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Admin Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<div class="container mt-5">
    <h1 class="mb-4">Admin Dashboard</h1>

    <!-- Requests per Department -->
    <h3>Requests per Department</h3>
    <table class="table table-striped mb-4">
        <thead>
            <tr>
                <th>Department</th>
                <th>Total Requests</th>
            </tr>
        </thead>
        <tbody>
            <% requestsPerDept.forEach(r => { %>
                <tr>
                    <td><%= r.department %></td>
                    <td><%= r.total_requests %></td>
                </tr>
            <% }) %>
        </tbody>
    </table>

    <!-- Status Counts -->
    <h3>Requests by Status</h3>
    <table class="table table-striped mb-4">
        <thead>
            <tr>
                <th>Status</th>
                <th>Count</th>
            </tr>
        </thead>
        <tbody>
            <% statusCounts.forEach(s => { %>
                <tr>
                    <td><%= s.status %></td>
                    <td><%= s.count %></td>
                </tr>
            <% }) %>
        </tbody>
    </table>

    <!-- Total Fees -->
    <h3>Total Fees Collected</h3>
    <p class="fs-5">Total: $<%= totalFees %></p>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
